% caeycae

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{caeycaeING}[12/04/2008 v0.01 Para *TODO*]

\typeout{Cargando package 'caeycaeING' v0.01 (12/04/2008)}

\newdimen\tadmargen\tadmargen=2em
\newdimen\tadsubmargen\tadsubmargen=1em
\newdimen\tadmaxenc\tadmaxenc=6em
\newdimen\tadtitskip\tadtitskip=4pt
\newdimen\tadfuncsep\tadfuncsep=6pt
\newdimen\tadaxisep\tadaxisep=6pt
\def\tadflecha{\longrightarrow}
\def\timessep{ }


% **************************************************************************
% **************************************************************************

% ------- Apertura del CU -------------------------------------------------
%
% Uso:  \cucom{nombre del CU}
%
\def\cucom#1#2{\begin{framed}#2\parindent=\tadmargen\vskip\tadtitskip\noindent%
\hbox to \hsize{{\bf CASO DE USO: } #1\hfil}\vskip0.5cm}


% ------- Clausura del CU -------------------------------------------------
%
% Uso:  \cufin
%
\def\cufin{\vskip\tadtitskip\par\noindent%
\hbox to \hsize{{\bf Fin CASO DE USO}\hfil}\vskip\tadtitskip\end{framed}}


%------- en caso de que se quieran alinear descripciones ------- 
%
% USO: \alineardescrip{descripcion mas larga}
%
\newdimen\descripxizq\descripxizq=0pt
\def\alineardescrip#1{\setbox0=\hbox{#1}\descripxizq=\wd0}


%------- Descripciones ----------------------------------------- 
%
% USO: \descrip{descripcion}{explicacion}
%
\def\descrip#1#2{\ifdim\descripxizq>0pt\setbox1=\hbox to \descripxizq{#1\hfil}%
\else\setbox1=\hbox{#1}\fi%
\setbox2=\hbox{\hskip\tadaxisep\hskip\tadaxisep}%
\dimen0=\tadmargen\advance\dimen0 by \tadsubmargen\advance\dimen0 by \wd1%
\advance\dimen0 by \wd2\par\hangindent=\dimen0\hangafter=1\hskip\tadsubmargen%
\box1\hbox{\hskip\tadaxisep\hskip\tadaxisep}#2}

% ------- Actores ---------------------------------
%
% Uso:  \actor{actor del caso de uso}
%
\def\actor#1{\descrip{\bf Actor: }{#1}}

% ------- Actores Secundarios ---------------------------------
%
% Uso:  \actorsec{actor secundario del caso de uso}
%
\def\actorsec#1{\descrip{\bf Actor Secundario: }{#1}}

% ------- Precondicion ---------------------------------
%
% Uso:  \pre{precondicion}
%
\def\pre#1{\descrip{\bf Pre: }{#1}}

% ------- Postcondicion ---------------------------------
%
% Uso:  \post{postcondicion}
%
\def\post#1{\descrip{\bf Post: }{#1}}

% ------- Definicion en lenguaje natural ----------------
%
% Uso:  \defln{definicion en lenguaje natural}
%
\def\defln#1{\descrip{\bf Def: }{#1}}


\def\incl#1{{\bf INCLUYE caso de uso:} {\textsl #1} }
\def\exti#1{{\bf EXTIENDE caso de uso:} {\textsl #1} }

%\newcounter{numerocursoe}
%\newcommand{\cursoecntr}{\arabic{numerocursoe}.\ } 
%
%\newcounter{numerocursoea}
%\newcommand{\cursoeacntr}{\arabic{numerocursoea}.\ } 

\def\cursoecom#1#2{
%\setcounter{numerocursoe}{0} 

\vskip0.5cm
\begin{tabular}{|p{6.5cm}|p{6.5cm}|}
\hline%
#1 & #2 \\\hline
}

\def\paso#1#2{
%\setcounter{numerocursoea}{1}
%\refstepcounter{numerocursoe}
%\cursoecntr 
#1 &  
%\cursoecntr\cursoeacntr 
#2 \\ \hline}

%\def\pasoa#1{\refstepcounter{numerocursoe} \cursoecntr #1 & \\ \hline}
%\def\pasob#1{ & \cursoecntr\cursoeacntr #1 \\ \hline}

\def\cursoefin{\end{tabular}\vskip0.5cm}

\newenvironment{cursoe}[1]{\cursoecom{\bf Curso normal }{\bf Alternativas}}{\cursoefin}




% ------- DECLARACIÓN DEL ENTORNO 'cu' ------------------------------------
%
% Uso:  \begin{cu}{nombre del CU}                    (Requiere LaTeX)
%          ...
%       \end{cu}
%
\newenvironment{cu}[1]{\cucom{#1}{}}{\cufin}

\def\tadenc#1#2{\dimen0=\tadmaxenc\advance\dimen0 by \tadmargen%
\vskip\tadtitskip\par\hangindent=\dimen0\hangafter=1\hskip0pt%
\hbox to \tadmaxenc{{\bf #1}\hfil}#2}




