<?xml version="1.0" encoding="UTF-8"?>
<project basedir="." default="compile" name="checkstyle tasks">
	<description>Checkstyle tasks</description>

	<import file="${build.dir}/taskdef.build.xml" />
	
	<property name="checkstyle.build.dir" value="${build.dir}/checkstyle"/>

	<target name="checkstyle" depends="init" >
		<checkstyle config="${checkstyle.build.dir}/sun_checks.xml" classpathref="${NAME}.project.class.path"
			failureProperty="checkstyle.failure" failOnViolation="false">
			<formatter type="xml" tofile="${checkstyle.xml}" />
			<fileset dir="${src}" includes="**/*.java" />
		</checkstyle>
	</target>
	
	<target name="checkstyle.report.html" depends="checkstyle" description="Generates an HTML report of static code analysis (Checkstyle).">
		<style in="${checkstyle.xml}" out="${checkstyle.html}"
			style="${checkstyle.build.dir}/checkstyle.xsl" />
	</target>

</project>
